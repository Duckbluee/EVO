{"abstract":"The K-nearest neighbors (KNNs) algorithm is one of Top-10 data mining algorithms and is widely used in various fields of artificial intelligence. This leads to that quantum KNN (QKNN) algorithms have developed and achieved certain speed improvements, denoted as Q- KNN. However, these Q- KNN methods must face two key problems as follows. The first one is that they are mainly focused on neighbor selection without paying attention to the influence of <inline-formula> <tex-math notation=\"LaTeX\">${K}$ </tex-math></inline-formula> value on the algorithm. The second is that only the neighbor selection process is quantized, and the selection of <inline-formula> <tex-math notation=\"LaTeX\">${K}$ </tex-math></inline-formula> value is not quantized. To solve these problems, this article designs a novel quantum circuit for KNN classification, so as to simultaneously quantumize the neighbor selection and <inline-formula> <tex-math notation=\"LaTeX\">${K}$ </tex-math></inline-formula> value selection process. Specifically, the least squares loss and sparse regularization term are first used to construct the objective function of the proposed quantum KNN, so that it can simultaneously obtain the optimal <inline-formula> <tex-math notation=\"LaTeX\">${K}$ </tex-math></inline-formula> value and <inline-formula> <tex-math notation=\"LaTeX\">${K}$ </tex-math></inline-formula> nearest neighbors of the testing data. And then, a new quantum circuit is proposed to quantumize the process through quantum phase estimation, controlled rotation, and inverse phase estimation techniques. Finally, experiments are conducted with qiskit and MATLAB to output the quantum and classical results of the algorithm, verifying that the proposed algorithm can output the optimal <inline-formula> <tex-math notation=\"LaTeX\">${K}$ </tex-math></inline-formula> value and <inline-formula> <tex-math notation=\"LaTeX\">${K}$ </tex-math></inline-formula> nearest neighbors for each testing data."}